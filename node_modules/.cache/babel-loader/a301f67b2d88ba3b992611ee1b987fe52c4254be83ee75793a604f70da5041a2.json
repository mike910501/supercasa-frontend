{"ast":null,"code":"import _objectSpread from\"C:/Users/mikeh/Documents/supercasa-admin/supercasa-admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import API_URL from'../config/api';// ⚡ AGREGADO: Import de configuración de API\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminOrdersManagement(){var _pedidoSeleccionado$u,_pedidoSeleccionado$u2,_pedidoSeleccionado$p,_pedidoSeleccionado$p2,_pedidoSeleccionado$t;const[pedidos,setPedidos]=useState([]);const[pedidoSeleccionado,setPedidoSeleccionado]=useState(null);const[filtroEstado,setFiltroEstado]=useState('todos');const[filtroTorre,setFiltroTorre]=useState('');const[isLoading,setIsLoading]=useState(true);const[showModal,setShowModal]=useState(false);// Cargar pedidos reales desde tu API\nuseEffect(()=>{setIsLoading(true);const token=localStorage.getItem('token');fetch(\"\".concat(API_URL,\"/api/admin/pedidos\"),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}}).then(res=>res.json()).then(data=>{console.log(\"Pedidos cargados desde la base de datos:\",data);setPedidos(data);setIsLoading(false);}).catch(error=>{console.error('Error al cargar los pedidos:',error);setIsLoading(false);});},[]);// Filtrar pedidos\nconst pedidosFiltrados=pedidos.filter(pedido=>{const matchesEstado=filtroEstado==='todos'||pedido.estado===filtroEstado;const matchesTorre=filtroTorre===''||pedido.torre_entrega===filtroTorre;return matchesEstado&&matchesTorre;});// Cambiar estado del pedido usando tu API real\nconst cambiarEstadoPedido=async(pedidoId,nuevoEstado)=>{try{const token=localStorage.getItem('token');console.log('🔄 Cambiando estado del pedido:',pedidoId,'a:',nuevoEstado);const response=await fetch(\"\".concat(API_URL,\"/api/admin/pedidos/\").concat(pedidoId,\"/estado\"),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({estado:nuevoEstado})});console.log('📡 Respuesta de la API:',response.status);if(response.ok){const result=await response.json();console.log('✅ Pedido actualizado:',result);// Actualizar el estado local\nsetPedidos(pedidos.map(pedido=>pedido.id===pedidoId?_objectSpread(_objectSpread({},pedido),{},{estado:nuevoEstado,fecha_entrega:nuevoEstado==='entregado'?new Date().toISOString():null}):pedido));if(pedidoSeleccionado&&pedidoSeleccionado.id===pedidoId){setPedidoSeleccionado(_objectSpread(_objectSpread({},pedidoSeleccionado),{},{estado:nuevoEstado,fecha_entrega:nuevoEstado==='entregado'?new Date().toISOString():null}));}alert(\"\\u2705 Pedido \".concat(nuevoEstado==='entregado'?'marcado como entregado':'actualizado',\" correctamente\"));}else{const error=await response.json();console.error('❌ Error de la API:',error);alert('❌ Error al actualizar el pedido: '+error.error);}}catch(error){console.error('❌ Error de red:',error);alert('❌ Error de red al actualizar el pedido: '+error.message);}};const formatearFecha=fecha=>{return new Date(fecha).toLocaleString('es-CO',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};const getEstadoColor=estado=>{switch(estado){case'pendiente':return'bg-yellow-100 text-yellow-800';case'entregado':return'bg-green-100 text-green-800';case'cancelado':return'bg-red-100 text-red-800';default:return'bg-gray-100 text-gray-800';}};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600 text-lg\",children:\"Cargando pedidos...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-lg p-6 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\",children:\"\\uD83D\\uDCE6 Gesti\\xF3n de Pedidos\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-1\",children:[pedidosFiltrados.length,\" pedidos encontrados\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:filtroEstado,onChange:e=>setFiltroEstado(e.target.value),className:\"px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"todos\",children:\"Todos los estados\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pendiente\",children:\"Pendientes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"entregado\",children:\"Entregados\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cancelado\",children:\"Cancelados\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filtroTorre,onChange:e=>setFiltroTorre(e.target.value),className:\"px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todas las torres\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Torre 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Torre 2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Torre 3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"Torre 4\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-100 text-yellow-600 p-3 rounded-xl\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-800\",children:pedidos.filter(p=>p.estado==='pendiente').length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Pendientes\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 text-green-600 p-3 rounded-xl\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-800\",children:pedidos.filter(p=>p.estado==='entregado').length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Entregados\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 text-blue-600 p-3 rounded-xl\",children:/*#__PURE__*/_jsxs(\"svg\",{className:\"w-6 h-6\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z\"}),/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z\",clipRule:\"evenodd\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-800\",children:[\"$\",pedidos.reduce((acc,p)=>acc+(p.total||0),0).toLocaleString()]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Total vendido\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-100 text-purple-600 p-3 rounded-xl\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-800\",children:new Set(pedidos.map(p=>p.torre_entrega).filter(Boolean)).size}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Torres activas\"})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-lg overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Pedido\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Cliente\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Direcci\\xF3n Entrega\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Estado\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:pedidosFiltrados.map(pedido=>{var _pedido$productos,_pedido$usuario,_pedido$total;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:pedido.numero_pedido}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[((_pedido$productos=pedido.productos)===null||_pedido$productos===void 0?void 0:_pedido$productos.length)||0,\" productos\"]})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:(_pedido$usuario=pedido.usuario)===null||_pedido$usuario===void 0?void 0:_pedido$usuario.nombre}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:pedido.telefono_contacto})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[\"Torre \",pedido.torre_entrega,\" - Piso \",pedido.piso_entrega]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Apt \",pedido.apartamento_entrega]}),pedido.horario_preferido&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Prefiere: \",pedido.horario_preferido]})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:[\"$\",((_pedido$total=pedido.total)===null||_pedido$total===void 0?void 0:_pedido$total.toLocaleString())||'0']}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(getEstadoColor(pedido.estado)),children:pedido.estado})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:formatearFecha(pedido.fecha_pedido)}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setPedidoSeleccionado(pedido);setShowModal(true);},className:\"text-blue-600 hover:text-blue-900 bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-lg transition-colors\",children:\"Ver Detalles\"}),pedido.estado==='pendiente'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>cambiarEstadoPedido(pedido.id,'entregado'),className:\"text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100 px-3 py-1 rounded-lg transition-colors\",children:\"\\u2713 Entregado\"})]})]},pedido.id);})})]})})}),pedidosFiltrados.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-lg p-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 text-6xl mb-4\",children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-600 mb-2\",children:\"No hay pedidos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No se encontraron pedidos con los filtros seleccionados\"})]})]}),showModal&&pedidoSeleccionado&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:[\"Detalles del Pedido \",pedidoSeleccionado.numero_pedido]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowModal(false),className:\"text-gray-500 hover:text-gray-700\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-600\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\",clipRule:\"evenodd\"})}),\"Informaci\\xF3n del Cliente\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-xl p-4 space-y-2\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Nombre:\"}),\" \",(_pedidoSeleccionado$u=pedidoSeleccionado.usuario)===null||_pedidoSeleccionado$u===void 0?void 0:_pedidoSeleccionado$u.nombre]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Email:\"}),\" \",(_pedidoSeleccionado$u2=pedidoSeleccionado.usuario)===null||_pedidoSeleccionado$u2===void 0?void 0:_pedidoSeleccionado$u2.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Tel\\xE9fono:\"}),\" \",pedidoSeleccionado.telefono_contacto]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2 text-green-600\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z\",clipRule:\"evenodd\"})}),\"Direcci\\xF3n de Entrega\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-xl p-4 space-y-2\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Torre:\"}),\" \",pedidoSeleccionado.torre_entrega]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Piso:\"}),\" \",pedidoSeleccionado.piso_entrega]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Apartamento:\"}),\" \",pedidoSeleccionado.apartamento_entrega]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Horario preferido:\"}),\" \",pedidoSeleccionado.horario_preferido||'Sin preferencia']}),pedidoSeleccionado.instrucciones_entrega&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Instrucciones:\"}),\" \",pedidoSeleccionado.instrucciones_entrega]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2 text-purple-600\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z\",clipRule:\"evenodd\"})}),\"Estado del Pedido\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-xl p-4 space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 text-sm font-semibold rounded-full \".concat(getEstadoColor(pedidoSeleccionado.estado)),children:pedidoSeleccionado.estado}),pedidoSeleccionado.estado==='pendiente'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>cambiarEstadoPedido(pedidoSeleccionado.id,'entregado'),className:\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors\",children:\"\\u2713 Marcar como Entregado\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Fecha del pedido:\"}),\" \",formatearFecha(pedidoSeleccionado.fecha_pedido)]}),pedidoSeleccionado.fecha_entrega&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Fecha de entrega:\"}),\" \",formatearFecha(pedidoSeleccionado.fecha_entrega)]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2 text-orange-600\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 2L3 7v11a2 2 0 002 2h10a2 2 0 002-2V7l-7-5zM8 15v-3a1 1 0 011-1h2a1 1 0 011 1v3h-4z\",clipRule:\"evenodd\"})}),\"Productos (\",((_pedidoSeleccionado$p=pedidoSeleccionado.productos)===null||_pedidoSeleccionado$p===void 0?void 0:_pedidoSeleccionado$p.length)||0,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:(_pedidoSeleccionado$p2=pedidoSeleccionado.productos)===null||_pedidoSeleccionado$p2===void 0?void 0:_pedidoSeleccionado$p2.map((producto,index)=>{var _producto$precio;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-xl p-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-800\",children:producto.nombre}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Cantidad: \",producto.cantidad]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Precio unitario: $\",(_producto$precio=producto.precio)===null||_producto$precio===void 0?void 0:_producto$precio.toLocaleString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-blue-600\",children:[\"$\",((producto.precio||0)*(producto.cantidad||0)).toLocaleString()]})})]},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-bold text-gray-800\",children:\"Total del Pedido:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-blue-600\",children:[\"$\",((_pedidoSeleccionado$t=pedidoSeleccionado.total)===null||_pedidoSeleccionado$t===void 0?void 0:_pedidoSeleccionado$t.toLocaleString())||'0']})]})})]})]})})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","API_URL","jsx","_jsx","jsxs","_jsxs","AdminOrdersManagement","_pedidoSeleccionado$u","_pedidoSeleccionado$u2","_pedidoSeleccionado$p","_pedidoSeleccionado$p2","_pedidoSeleccionado$t","pedidos","setPedidos","pedidoSeleccionado","setPedidoSeleccionado","filtroEstado","setFiltroEstado","filtroTorre","setFiltroTorre","isLoading","setIsLoading","showModal","setShowModal","token","localStorage","getItem","fetch","concat","headers","then","res","json","data","console","log","catch","error","pedidosFiltrados","filter","pedido","matchesEstado","estado","matchesTorre","torre_entrega","cambiarEstadoPedido","pedidoId","nuevoEstado","response","method","body","JSON","stringify","status","ok","result","map","id","_objectSpread","fecha_entrega","Date","toISOString","alert","message","formatearFecha","fecha","toLocaleString","year","month","day","hour","minute","getEstadoColor","className","children","length","value","onChange","e","target","fill","viewBox","fillRule","d","clipRule","p","reduce","acc","total","Set","Boolean","size","_pedido$productos","_pedido$usuario","_pedido$total","numero_pedido","productos","usuario","nombre","telefono_contacto","piso_entrega","apartamento_entrega","horario_preferido","fecha_pedido","onClick","email","instrucciones_entrega","producto","index","_producto$precio","cantidad","precio"],"sources":["C:/Users/mikeh/Documents/supercasa-admin/supercasa-admin/src/pages/AdminOrdersManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport API_URL from '../config/api'; // ⚡ AGREGADO: Import de configuración de API\r\n\r\nexport default function AdminOrdersManagement() {\r\n  const [pedidos, setPedidos] = useState([]);\r\n  const [pedidoSeleccionado, setPedidoSeleccionado] = useState(null);\r\n  const [filtroEstado, setFiltroEstado] = useState('todos');\r\n  const [filtroTorre, setFiltroTorre] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  // Cargar pedidos reales desde tu API\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    const token = localStorage.getItem('token');\r\n    \r\n    fetch(`${API_URL}/api/admin/pedidos`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(\"Pedidos cargados desde la base de datos:\", data);\r\n        setPedidos(data);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error al cargar los pedidos:', error);\r\n        setIsLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  // Filtrar pedidos\r\n  const pedidosFiltrados = pedidos.filter(pedido => {\r\n    const matchesEstado = filtroEstado === 'todos' || pedido.estado === filtroEstado;\r\n    const matchesTorre = filtroTorre === '' || pedido.torre_entrega === filtroTorre;\r\n    return matchesEstado && matchesTorre;\r\n  });\r\n\r\n  // Cambiar estado del pedido usando tu API real\r\n  const cambiarEstadoPedido = async (pedidoId, nuevoEstado) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      console.log('🔄 Cambiando estado del pedido:', pedidoId, 'a:', nuevoEstado);\r\n      \r\n      const response = await fetch(`${API_URL}/api/admin/pedidos/${pedidoId}/estado`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ estado: nuevoEstado })\r\n      });\r\n\r\n      console.log('📡 Respuesta de la API:', response.status);\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        console.log('✅ Pedido actualizado:', result);\r\n        \r\n        // Actualizar el estado local\r\n        setPedidos(pedidos.map(pedido => \r\n          pedido.id === pedidoId \r\n            ? { \r\n                ...pedido, \r\n                estado: nuevoEstado,\r\n                fecha_entrega: nuevoEstado === 'entregado' ? new Date().toISOString() : null\r\n              }\r\n            : pedido\r\n        ));\r\n        \r\n        if (pedidoSeleccionado && pedidoSeleccionado.id === pedidoId) {\r\n          setPedidoSeleccionado({\r\n            ...pedidoSeleccionado,\r\n            estado: nuevoEstado,\r\n            fecha_entrega: nuevoEstado === 'entregado' ? new Date().toISOString() : null\r\n          });\r\n        }\r\n\r\n        alert(`✅ Pedido ${nuevoEstado === 'entregado' ? 'marcado como entregado' : 'actualizado'} correctamente`);\r\n      } else {\r\n        const error = await response.json();\r\n        console.error('❌ Error de la API:', error);\r\n        alert('❌ Error al actualizar el pedido: ' + error.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('❌ Error de red:', error);\r\n      alert('❌ Error de red al actualizar el pedido: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const formatearFecha = (fecha) => {\r\n    return new Date(fecha).toLocaleString('es-CO', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const getEstadoColor = (estado) => {\r\n    switch (estado) {\r\n      case 'pendiente': return 'bg-yellow-100 text-yellow-800';\r\n      case 'entregado': return 'bg-green-100 text-green-800';\r\n      case 'cancelado': return 'bg-red-100 text-red-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600 text-lg\">Cargando pedidos...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"bg-white rounded-2xl shadow-lg p-6 mb-6\">\r\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n                📦 Gestión de Pedidos\r\n              </h1>\r\n              <p className=\"text-gray-600 mt-1\">\r\n                {pedidosFiltrados.length} pedidos encontrados\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"flex flex-col sm:flex-row gap-4\">\r\n              <select\r\n                value={filtroEstado}\r\n                onChange={(e) => setFiltroEstado(e.target.value)}\r\n                className=\"px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value=\"todos\">Todos los estados</option>\r\n                <option value=\"pendiente\">Pendientes</option>\r\n                <option value=\"entregado\">Entregados</option>\r\n                <option value=\"cancelado\">Cancelados</option>\r\n              </select>\r\n              \r\n              <select\r\n                value={filtroTorre}\r\n                onChange={(e) => setFiltroTorre(e.target.value)}\r\n                className=\"px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value=\"\">Todas las torres</option>\r\n                <option value=\"1\">Torre 1</option>\r\n                <option value=\"2\">Torre 2</option>\r\n                <option value=\"3\">Torre 3</option>\r\n                <option value=\"4\">Torre 4</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Estadísticas rápidas */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\r\n          <div className=\"bg-white rounded-2xl shadow-lg p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"bg-yellow-100 text-yellow-600 p-3 rounded-xl\">\r\n                <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z\" clipRule=\"evenodd\"/>\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-2xl font-bold text-gray-800\">\r\n                  {pedidos.filter(p => p.estado === 'pendiente').length}\r\n                </p>\r\n                <p className=\"text-gray-600\">Pendientes</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-white rounded-2xl shadow-lg p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"bg-green-100 text-green-600 p-3 rounded-xl\">\r\n                <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\"/>\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-2xl font-bold text-gray-800\">\r\n                  {pedidos.filter(p => p.estado === 'entregado').length}\r\n                </p>\r\n                <p className=\"text-gray-600\">Entregados</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-white rounded-2xl shadow-lg p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"bg-blue-100 text-blue-600 p-3 rounded-xl\">\r\n                <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path d=\"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z\"/>\r\n                  <path fillRule=\"evenodd\" d=\"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z\" clipRule=\"evenodd\"/>\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-2xl font-bold text-gray-800\">\r\n                  ${pedidos.reduce((acc, p) => acc + (p.total || 0), 0).toLocaleString()}\r\n                </p>\r\n                <p className=\"text-gray-600\">Total vendido</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-white rounded-2xl shadow-lg p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"bg-purple-100 text-purple-600 p-3 rounded-xl\">\r\n                <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path d=\"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3z\"/>\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-2xl font-bold text-gray-800\">\r\n                  {new Set(pedidos.map(p => p.torre_entrega).filter(Boolean)).size}\r\n                </p>\r\n                <p className=\"text-gray-600\">Torres activas</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Lista de pedidos */}\r\n        <div className=\"bg-white rounded-2xl shadow-lg overflow-hidden\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Pedido\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Cliente\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Dirección Entrega\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Total\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Estado\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Fecha\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Acciones\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {pedidosFiltrados.map((pedido) => (\r\n                  <tr key={pedido.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">\r\n                        {pedido.numero_pedido}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500\">\r\n                        {pedido.productos?.length || 0} productos\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">\r\n                        {pedido.usuario?.nombre}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500\">\r\n                        {pedido.telefono_contacto}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">\r\n                        Torre {pedido.torre_entrega} - Piso {pedido.piso_entrega}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-500\">\r\n                        Apt {pedido.apartamento_entrega}\r\n                      </div>\r\n                      {pedido.horario_preferido && (\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          Prefiere: {pedido.horario_preferido}\r\n                        </div>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                      ${pedido.total?.toLocaleString() || '0'}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getEstadoColor(pedido.estado)}`}>\r\n                        {pedido.estado}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {formatearFecha(pedido.fecha_pedido)}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2\">\r\n                      <button\r\n                        onClick={() => {\r\n                          setPedidoSeleccionado(pedido);\r\n                          setShowModal(true);\r\n                        }}\r\n                        className=\"text-blue-600 hover:text-blue-900 bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-lg transition-colors\"\r\n                      >\r\n                        Ver Detalles\r\n                      </button>\r\n                      {pedido.estado === 'pendiente' && (\r\n                        <button\r\n                          onClick={() => cambiarEstadoPedido(pedido.id, 'entregado')}\r\n                          className=\"text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100 px-3 py-1 rounded-lg transition-colors\"\r\n                        >\r\n                          ✓ Entregado\r\n                        </button>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {pedidosFiltrados.length === 0 && (\r\n          <div className=\"bg-white rounded-2xl shadow-lg p-12 text-center\">\r\n            <div className=\"text-gray-400 text-6xl mb-4\">📦</div>\r\n            <h3 className=\"text-xl font-semibold text-gray-600 mb-2\">No hay pedidos</h3>\r\n            <p className=\"text-gray-500\">No se encontraron pedidos con los filtros seleccionados</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modal de detalles del pedido */}\r\n      {showModal && pedidoSeleccionado && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\r\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">\r\n                  Detalles del Pedido {pedidoSeleccionado.numero_pedido}\r\n                </h2>\r\n                <button\r\n                  onClick={() => setShowModal(false)}\r\n                  className=\"text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                    <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\"/>\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6\">\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n                {/* Información del cliente */}\r\n                <div className=\"space-y-6\">\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center\">\r\n                      <svg className=\"w-5 h-5 mr-2 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                        <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\"/>\r\n                      </svg>\r\n                      Información del Cliente\r\n                    </h3>\r\n                    <div className=\"bg-gray-50 rounded-xl p-4 space-y-2\">\r\n                      <p><span className=\"font-medium\">Nombre:</span> {pedidoSeleccionado.usuario?.nombre}</p>\r\n                      <p><span className=\"font-medium\">Email:</span> {pedidoSeleccionado.usuario?.email}</p>\r\n                      <p><span className=\"font-medium\">Teléfono:</span> {pedidoSeleccionado.telefono_contacto}</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center\">\r\n                      <svg className=\"w-5 h-5 mr-2 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                        <path fillRule=\"evenodd\" d=\"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z\" clipRule=\"evenodd\"/>\r\n                      </svg>\r\n                      Dirección de Entrega\r\n                    </h3>\r\n                    <div className=\"bg-gray-50 rounded-xl p-4 space-y-2\">\r\n                      <p><span className=\"font-medium\">Torre:</span> {pedidoSeleccionado.torre_entrega}</p>\r\n                      <p><span className=\"font-medium\">Piso:</span> {pedidoSeleccionado.piso_entrega}</p>\r\n                      <p><span className=\"font-medium\">Apartamento:</span> {pedidoSeleccionado.apartamento_entrega}</p>\r\n                      <p><span className=\"font-medium\">Horario preferido:</span> {pedidoSeleccionado.horario_preferido || 'Sin preferencia'}</p>\r\n                      {pedidoSeleccionado.instrucciones_entrega && (\r\n                        <p><span className=\"font-medium\">Instrucciones:</span> {pedidoSeleccionado.instrucciones_entrega}</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center\">\r\n                      <svg className=\"w-5 h-5 mr-2 text-purple-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                        <path fillRule=\"evenodd\" d=\"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z\" clipRule=\"evenodd\"/>\r\n                      </svg>\r\n                      Estado del Pedido\r\n                    </h3>\r\n                    <div className=\"bg-gray-50 rounded-xl p-4 space-y-2\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className={`px-3 py-1 text-sm font-semibold rounded-full ${getEstadoColor(pedidoSeleccionado.estado)}`}>\r\n                          {pedidoSeleccionado.estado}\r\n                        </span>\r\n                        {pedidoSeleccionado.estado === 'pendiente' && (\r\n                          <button\r\n                            onClick={() => cambiarEstadoPedido(pedidoSeleccionado.id, 'entregado')}\r\n                            className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors\"\r\n                          >\r\n                            ✓ Marcar como Entregado\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                      <p><span className=\"font-medium\">Fecha del pedido:</span> {formatearFecha(pedidoSeleccionado.fecha_pedido)}</p>\r\n                      {pedidoSeleccionado.fecha_entrega && (\r\n                        <p><span className=\"font-medium\">Fecha de entrega:</span> {formatearFecha(pedidoSeleccionado.fecha_entrega)}</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Productos del pedido */}\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center\">\r\n                    <svg className=\"w-5 h-5 mr-2 text-orange-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                      <path fillRule=\"evenodd\" d=\"M10 2L3 7v11a2 2 0 002 2h10a2 2 0 002-2V7l-7-5zM8 15v-3a1 1 0 011-1h2a1 1 0 011 1v3h-4z\" clipRule=\"evenodd\"/>\r\n                    </svg>\r\n                    Productos ({pedidoSeleccionado.productos?.length || 0})\r\n                  </h3>\r\n                  <div className=\"space-y-3\">\r\n                    {pedidoSeleccionado.productos?.map((producto, index) => (\r\n                      <div key={index} className=\"bg-gray-50 rounded-xl p-4 flex justify-between items-center\">\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-800\">{producto.nombre}</p>\r\n                          <p className=\"text-sm text-gray-600\">Cantidad: {producto.cantidad}</p>\r\n                          <p className=\"text-sm text-gray-600\">Precio unitario: ${producto.precio?.toLocaleString()}</p>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <p className=\"font-bold text-blue-600\">\r\n                            ${((producto.precio || 0) * (producto.cantidad || 0)).toLocaleString()}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                  \r\n                  <div className=\"mt-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-200\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-xl font-bold text-gray-800\">Total del Pedido:</span>\r\n                      <span className=\"text-2xl font-bold text-blue-600\">\r\n                        ${pedidoSeleccionado.total?.toLocaleString() || '0'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}